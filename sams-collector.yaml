---
sams.collector:  
  pid_finder_update_interval: 30
  pid_finder: sams.pidfinder.Slurm
  samplers:
    - sams.sampler.Core
    - sams.sampler.Software
    - sams.sampler.SlurmInfo
#    - sams.sampler.SlurmCGroup
  outputs:
    - sams.output.File

  # logfile: /tmp/logfile.%(jobid)s.%(node)s.log
  loglevel: ERROR

sams.pidfinder.Slurm:
  grace_period: 600

sams.sampler.SlurmInfo:
  sampler_interval: 30
  scontrol: /usr/bin/scontrol

sams.sampler.Software:
  sampler_interval: 30

sams.sampler.SlurmCGroup:
  sampler_interval: 10
  cgroup_base_path: /cgroup

sams.output.File:
  base_path: /var/spool/sams
  file_pattern: "%(jobid)s.%(node)s.json"
  jobid_hash_size: 1000
  # write_as_uid: 2066
  exclude: ['sams.sampler.SlurmCGroup']

  map:
    jobid: sams.sampler.Core/jobid
    node: sams.sampler.Core/node

  static_map:
    cluster: hebbe

  metrics:
    '^sams.sampler.SlurmCGroup/(?P<metric>\S+)$' : 'sa/%(cluster)s/%(jobid)s/%(node)s/%(metric)s'
